
process HCALDQM = { 
	include "DQM/HcalMonitorModule/data/HcalMonitorModule.cfi"
	include "DQM/HcalMonitorClient/data/HcalMonitorClient.cfi"
	include "DQM/HcalMonitorModule/data/Hcal_FrontierConditions_GRuMM_fC.cff"
//	include "DQM/HcalMonitorModule/data/Hcal_FrontierConditions_GRuMM_ADC.cff"
	include "FWCore/MessageLogger/data/MessageLogger.cfi"

	include "EventFilter/HcalRawToDigi/data/HcalRawToDigi.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hbhe.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-ho.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hf.cfi"
	replace hfreco.samplesToAdd = 2

	include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = "myhost"
	replace DQM.collectorPort = 9092
	
         // Lines below preceded by "### " should be uncommented if you wish to make CaloTower plots
        // (Module calls adapted from DQM/EcalBarrelMonitorModule/test/data/monitor-standalone.cfg )
        ### include "RecoLocalCalo/EcalRecProducers/data/ecalRecHit.cfi"
        ### include "RecoJets/Configuration/data/CaloTowersRec.cff"
        //I'm not sure that the ecalWeightUncalibRecHits stuff is used by the towerMaker -- Jeff
        ### module ecalUncalibHit = ecalWeightUncalibRecHit from "RecoLocalCalo/EcalRecProducers/data/ecalWeightUncalibRecHit.cfi"
        ### replace ecalRecHit.EBuncalibRecHitCollection = ecalUncalibHit:EcalUncalibRecHitsEB
        ### replace ecalRecHit.EEuncalibRecHitCollection = ecalUncalibHit:EcalUncalibRecHitsEE
        ### es_source = EcalTrivialConditionRetriever{
        ### untracked double adcToGeVEBConstant = 0.00875 # 0.035
        ### untracked vdouble amplWeights = { -0.333, -0.333, -0.333,
        ###                                   0.000,  0.000,  1.000,
        ###                                   0.000,  0.000,  0.000,  0.000 }
        ### untracked vdouble pedWeights  = {  0.333,  0.333,  0.333,
        ###                                   0.000,  0.000,  0.000,
        ###                                   0.000,  0.000,  0.000,  0.000 }
        ### untracked vdouble jittWeights = {  0.041,  0.041,  0.041,
        ###                                  0.000,  1.325, -0.050,
        ###                                  -0.504, -0.502, -0.390,  0.000 }
        ###  }
 
        ### include "CalibCalorimetry/EcalLaserCorrection/data/ecalLaserCorrectionService.cfi"
        ### replace hcalMonitor.CaloTowerMonitor=true
        ### replace hcalClient.CaloTowerClient=true
        
        path p = { hcalDigis, horeco, hfreco, hbhereco, 
        ###        ecalRecHit, towerMaker,  
	hcalMonitor, hcalClient, dqmEnv, dqmSaver }


	untracked PSet options = {
		untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
	}
	untracked PSet maxEvents = {untracked int32 input = 100 }
	


//----Examples of 3 different data sources:

	// From the last good runs of GRuMM 2008: run38480
	source = PoolSource {
	        untracked vstring fileNames = {
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/10DEFF22-FBF1-DC11-A067-000423D992DC.root',
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/506ACA22-FBF1-DC11-B28E-000423D9863C.root',
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/5A59B41C-FBF1-DC11-B620-000423D9870C.root',
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/8A0D8422-FBF1-DC11-99F5-000423D992A4.root',
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/947CBA22-FBF1-DC11-BBE0-000423D9939C.root',
		'/store/data/GlobalMar08/A/000/000/000/RAW/0000/BAFEBC22-FBF1-DC11-92E2-000423D6CAF2.root'
	        }

        }

	// //To run on .dat streamer files (you need to change the path to the datafile):
	// source = NewEventStreamFileReader {
        // 	untracked vstring fileNames = {
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0001.A.storageManager.0.0000.dat",
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0002.A.storageManager.0.0000.dat",
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0003.A.storageManager.0.0000.dat"
        // 	}
     	// }
	
	// //To run on HCAL local runs:  (you need to have acces to /bigspool or modify the path to the datafile)	
	// source = HcalTBSource {
        //        untracked vstring fileNames = {'file:/bigspool/usc/USC_035349.root'}
	//        untracked vstring streams = { 
	// 		//HBHE a, b, c:
	// 		'HCAL_DCC700','HCAL_DCC701','HCAL_DCC702','HCAL_DCC703','HCAL_DCC704','HCAL_DCC705',
	// 		'HCAL_DCC706','HCAL_DCC707','HCAL_DCC708','HCAL_DCC709','HCAL_DCC710','HCAL_DCC711',
	// 		'HCAL_DCC712','HCAL_DCC713','HCAL_DCC714','HCAL_DCC715','HCAL_DCC716','HCAL_DCC717',
	// 		//HF:
	// 		'HCAL_DCC718','HCAL_DCC719','HCAL_DCC720','HCAL_DCC721','HCAL_DCC722','HCAL_DCC723',
	// 		//HO:
	// 		'HCAL_DCC724','HCAL_DCC725','HCAL_DCC726','HCAL_DCC727','HCAL_DCC728','HCAL_DCC729',
	// 		'HCAL_DCC730','HCAL_DCC731',
	// 		'HCAL_Trigger','HCAL_SlowData'
	// 	}
	// }	

//----end of data sources examples




	#########################################################
 	#### BEGIN DQM Online Environment #######################
	#########################################################
	# use include file for dqmEnv dqmSaver
	include "DQMServices/Components/test/dqm_onlineEnv.cfi"
	replace dqmSaver.fileName      = "Hcal"
	replace dqmEnv.subSystemFolder = "Hcal"
       
       # optionally change fileSaving  conditions
       // replace dqmSaver.prescaleLS =   -1
       // replace dqmSaver.prescaleTime = -1 # in minutes
       // replace dqmSaver.prescaleEvt =  -1
       // replace dqmSaver.saveAtRunEnd = true
       // replace dqmSaver.saveAtJobEnd = false
       # will add switch to select histograms to be saved soon
   
    #########################################################
    #### END ################################################
    #########################################################
}
