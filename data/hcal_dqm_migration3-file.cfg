
process HCALDQM = { 
	include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = "myhost"
	replace DQM.collectorPort = 9092

	include "DQM/HcalMonitorModule/data/HcalMonitorModule.cfi"
	include "DQM/HcalMonitorClient/data/HcalMonitorClient.cfi"
	include "DQM/HcalMonitorModule/data/Hcal_FrontierConditions_GRuMM.cff"
	include "FWCore/MessageLogger/data/MessageLogger.cfi"

	include "EventFilter/HcalRawToDigi/data/HcalRawToDigi.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hbhe.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-ho.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hf.cfi"
	
	path p = { hcalDigis, horeco, hfreco, hbhereco, hcalMonitor, hcalClient, dqmEnv, dqmSaver }

	untracked PSet options = {
		untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
	}
	untracked PSet maxEvents = {untracked int32 input = 100 }
	
	// The last good run of GREN `07
	source = PoolSource {
	        untracked vstring fileNames = {
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/00565C56-ED07-DD11-909A-00304885AB96.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/00B0B16A-ED07-DD11-BC5A-001617E30CD4.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0246C92B-EB07-DD11-A572-001617C3B710.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/02545322-E907-DD11-A3AA-003048560F10.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/042C445D-ED07-DD11-BA74-003048562936.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0460DD46-EB07-DD11-9977-003048562986.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/04BA6152-ED07-DD11-B1CB-00304855D4CE.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0608DD4A-ED07-DD11-A961-000423D98A44.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/064E5C4E-ED07-DD11-9C57-000423D98750.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/068B4B4A-ED07-DD11-BB46-000423D98DB4.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/06923D3A-EB07-DD11-B80E-000423D990CC.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/06C88232-EB07-DD11-A9D1-001617E30D38.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/08BBF948-EB07-DD11-BB91-00304885B0C2.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0A1E3C0D-E907-DD11-B09D-000423D94990.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0A8B432A-E907-DD11-BE1D-00304885AA4E.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0AA3852D-EB07-DD11-98A6-00304855D4E8.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0C03862F-EB07-DD11-BCD1-001617C3B614.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0C11162A-E907-DD11-8CB3-003048562878.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0C786D5D-ED07-DD11-A548-003048561206.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0CC22915-E907-DD11-98A5-001617C3B6DC.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0CEF0136-EB07-DD11-AA10-001617E30D40.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/0EF69608-E907-DD11-90D4-000423D991F0.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/104A250E-EB07-DD11-9B3B-001617E30D2C.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/1062BF38-EB07-DD11-BA2E-003048562880.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/10A26BFE-E807-DD11-94F1-000423DC1A0C.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/12147823-E907-DD11-A492-001617C3B614.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/1433DE26-EB07-DD11-9BAA-003048560F0E.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/147E345B-ED07-DD11-A7C0-003048562986.root',
			'/store/data/GlobalMar08/A/000/000/000/RAW/0000/14B28F0F-EB07-DD11-AA8A-001617C3B614.root'
	        }

        }


	// To run on .dat streamer files (you need to change the path to the datafile):
	// source = NewEventStreamFileReader {
        // 	untracked vstring fileNames = {
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0001.A.storageManager.0.0000.dat",
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0002.A.storageManager.0.0000.dat",
        // 	    "file:/data1/lookarea/GlobalAug07.00017220.0003.A.storageManager.0.0000.dat"
        // 	}
     	// }
	
	//To run on HCAL local runs:  (you need to have acces to /bigspool or modify the path to the datafile)	
	// source = HcalTBSource {
        //        untracked vstring fileNames = {'file:/bigspool/usc/USC_035349.root'}
	//        untracked vstring streams = { 
	// 		//HBHE a, b, c:
	// 		'HCAL_DCC700','HCAL_DCC701','HCAL_DCC702','HCAL_DCC703','HCAL_DCC704','HCAL_DCC705',
	// 		'HCAL_DCC706','HCAL_DCC707','HCAL_DCC708','HCAL_DCC709','HCAL_DCC710','HCAL_DCC711',
	// 		'HCAL_DCC712','HCAL_DCC713','HCAL_DCC714','HCAL_DCC715','HCAL_DCC716','HCAL_DCC717',
	// 		//HF:
	// 		'HCAL_DCC718','HCAL_DCC719','HCAL_DCC720','HCAL_DCC721','HCAL_DCC722','HCAL_DCC723',
	// 		//HO:
	// 		'HCAL_DCC724','HCAL_DCC725','HCAL_DCC726','HCAL_DCC727','HCAL_DCC728','HCAL_DCC729',
	// 		'HCAL_DCC730','HCAL_DCC731',
	// 		'HCAL_Trigger','HCAL_SlowData'
	// 	}
	// }	

	#########################################################
 	#### BEGIN DQM Online Environment #######################
	#########################################################
	# use include file for dqmEnv dqmSaver
        include "DQMServices/Components/data/DQMEnvironment.cfi"
        replace dqmSaver.convention       = "Online"
        replace dqmSaver.dirName          = "."
        replace dqmSaver.producer         = "DQM"
        replace dqmEnv.subSystemFolder    = "Hcal"

       # optionally change fileSaving  conditions
       // replace dqmSaver.prescaleLS =   -1
       // replace dqmSaver.prescaleTime = -1 # in minutes
       // replace dqmSaver.prescaleEvt =  -1
       // replace dqmSaver.saveAtRunEnd = true
       // replace dqmSaver.saveAtJobEnd = false
       # will add switch to select histograms to be saved soon
   
    #########################################################
    #### END ################################################
    #########################################################
}
