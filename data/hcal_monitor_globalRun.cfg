process MONITOR = { 

	include "DQM/HcalMonitorModule/data/HcalMonitorModule.cfi"
	include "DQM/HcalMonitorClient/data/HcalMonitorClient.cfi"
	include "CalibCalorimetry/HcalPlugins/data/Hcal_FrontierConditions.cff"
	include "FWCore/MessageLogger/data/MessageLogger.cfi"

	include "EventFilter/HcalRawToDigi/data/HcalRawToDigi.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hbhe.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-ho.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hf.cfi"

	path p = { hcalDigis, ltcunpacker, horeco, hfreco, hbhereco, hcalMonitor, hcalClient}

	untracked PSet options = {
		untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
	}

	untracked PSet maxEvents = {untracked int32 input = 200}

	source = NewEventStreamFileReader{
		untracked vstring fileNames = {
		'file:/uscms_data/d1/wfisher/tmp_dat/GlobalSep07.00020734.0001.A.storageManager.0.0000.dat'
//		'file:/uscms_data/d1/wfisher/tmp_dat/GlobalSep07.00020994.0001.A.storageManager.0.0000.dat'
		}
	}

	module  ltcunpacker = LTCRawToDigi {}

	service = DaqMonitorROOTBackEnd{}
	
	# MonitorDaemon configuration
    	# enable this if you would like to feed info down to a collector
    	service = MonitorDaemon {
    		# if true, will automatically start DQM thread in background
         	untracked bool AutoInstantiate=true
    		# if >=0, upon a connection problem, the source will automatically 
    		# attempt to reconnect with a time delay (secs) specified here 
    		# (default: 5)
         	untracked int32 reconnect_delay = 5
    		# collector hostname; examples: localhost(default),lxcmse2.cern.ch, etc
         	untracked string DestinationAddress = "localhost"
    		# port for communicating with collector (default: 9090)
         	untracked int32 SendPort = 9090
    		# monitoring period in ms (i.e. how often monitoring elements 
    		# are shipped to the collector; default: 1000)
         	untracked int32 UpdateDelay = 1000
    		# maximum # of reconnection attempts upon connection problems (default: 10)
         	untracked int32 maxAttempts2Reconnect   = 10
    		# name of DQM source (default: DQMSource)
         	untracked string NameAsSource = "HcalMonitor"
	}

	service = DQMShipMonitoring{
		// event-period for shipping monitoring to collector (default: 25)
		untracked uint32 period = 50
	}

}
